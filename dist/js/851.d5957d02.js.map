{"version":3,"file":"js/851.d5957d02.js","mappings":"6ZA6BMA,GAAKC,EAAAA,EAAAA,IAAaC,EAAAA,YAClBC,GAASC,EAAAA,EAAAA,KAAcC,EAAAA,EAAAA,IAAWL,EAAI,WAC5C,EAAe,CACbM,KAAM,YACNC,OACE,MAAO,CACLC,OAAQ,GACRC,QAASN,EAEb,EACAO,QAAS,CACPC,mBAAmBC,GACjB,UACQC,EAAAA,EAAAA,KAAUC,EAAAA,EAAAA,IAAId,EAAI,SAAUY,IAClCG,MAAM,wBAGR,CAFE,MAAOC,GACPD,MAAMC,EAAMC,QACd,CACF,EACAN,iBAAiBC,GACf,IACE,MAAMM,QAAmBC,EAAAA,EAAAA,KAAOL,EAAAA,EAAAA,IAAId,EAAI,SAAUY,IAC5CQ,EAAUF,EAAWX,OAC3Bc,SAASC,eAAe,SAASC,MAAQX,EACzCS,SAASC,eAAe,cAAcC,MAAQH,EAAQI,WACtDH,SAASC,eAAe,SAASC,MAAQH,EAAQK,MACjDJ,SAASC,eAAe,QAAQC,MAAQH,EAAQM,KAChDC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,SAAU,UAGtC,CAFE,MAAOd,GACPD,MAAMC,EAAMC,QACd,CACF,GAEFc,SAAU,CACRC,eACE,OAAOC,KAAKxB,QAAQD,QAAQ0B,IAC1B,MAAMtB,EAAKsB,EAAKtB,GAAGuB,WAAWC,cACxBC,EAAOH,EAAKV,WAAWY,cACvBE,EAAaL,KAAKzB,OAAO4B,cAE/B,OAAOxB,EAAG2B,SAASD,IAAeD,EAAKE,SAASD,EAAW,GAE/D,I,gCAlEJ,MAAME,GAAWvC,EAAAA,EAAAA,IAAaC,EAAAA,YAExBuC,EAAY9B,UAChB,MAAM,MAAE+B,EAAK,WAAElB,EAAU,MAAEC,EAAK,KAAEC,GAASQ,EAAKS,OAAOC,SACjDC,EAAMH,EAAMnB,MAClB,UACQuB,EAAAA,EAAAA,KAAOhC,EAAAA,EAAAA,IAAI0B,EAAU,SAAUK,GAAM,CACzCrB,WAAYA,EAAWD,MACvBE,MAAOA,EAAMF,MACbG,KAAMA,EAAKH,QAEbmB,EAAMnB,MAAQ,GACdC,EAAWD,MAAQ,GACnBE,EAAMF,MAAQ,GACdG,EAAKH,MAAQ,EAGf,CAFE,MAAOP,GACPD,MAAMC,EAAMC,QACd,G,4vHCnBF,MAAM8B,EAAc,EAEpB,O","sources":["webpack://Kasir_DigitalOnline/./src/views/Manajemen.vue","webpack://Kasir_DigitalOnline/./src/views/Manajemen.vue?1e2c"],"sourcesContent":["<script setup>\nimport { useCollection } from 'vuefire'\nimport { getFirestore, collection, setDoc, doc } from 'firebase/firestore'\nimport fApp from '../firebase'\n\nconst database = getFirestore(fApp)\n\nconst addBarang = async (item) => {\n  const { idbrg, namaBarang, harga, stok } = item.target.elements\n  const idb = idbrg.value\n  try {\n    await setDoc(doc(database, 'barang', idb), {\n      namaBarang: namaBarang.value,\n      harga: harga.value,\n      stok: stok.value,\n    })\n    idbrg.value = ''\n    namaBarang.value = ''\n    harga.value = ''\n    stok.value = ''\n  } catch (error) {\n    alert(error.message)\n  }\n}\n</script>\n\n<script>\nimport { deleteDoc, getDoc } from 'firebase/firestore'\n\nconst db = getFirestore(fApp)\nconst barang = useCollection(collection(db, 'barang'))\nexport default {\n  name: 'Manajemen',\n  data() {\n    return {\n      filter: '',\n      filterb: barang,\n    }\n  },\n  methods: {\n    async deleteBarang(id) {\n      try {\n        await deleteDoc(doc(db, 'barang', id))\n        alert('data berhasil dihapus')\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    async editBarang(id) {\n      try {\n        const dataBarang = await getDoc(doc(db, 'barang', id))\n        const dbarang = dataBarang.data()\n        document.getElementById('idbrg').value = id\n        document.getElementById('namaBarang').value = dbarang.namaBarang\n        document.getElementById('harga').value = dbarang.harga\n        document.getElementById('stok').value = dbarang.stok\n        window.scrollTo({ top: 0, behavior: 'smooth' })\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n  },\n  computed: {\n    filterBarang() {\n      return this.filterb.filter((item) => {\n        const id = item.id.toString().toLowerCase()\n        const nama = item.namaBarang.toLowerCase()\n        const searchTerm = this.filter.toLowerCase()\n\n        return id.includes(searchTerm) || nama.includes(searchTerm)\n      })\n    },\n  },\n}\n</script>\n\n<template>\n  <CCard class=\"mb-4\">\n    <CCardHeader>\n      <strong>Manajemen Produk</strong>\n    </CCardHeader>\n    <CCardBody>\n      <CForm @submit.prevent=\"addBarang\" ref=\"frmBarang\">\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"idbarang\" class=\"col-sm-2 col-form-label-sm\">\n            ID Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"ID Barang\" id=\"idbrg\" />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"nmbarang\" class=\"col-sm-2 col-form-label-sm\">\n            Nama Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Nama Barang\" id=\"namaBarang\" />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"hgbarang\" class=\"col-sm-2 col-form-label-sm\">\n            Harga Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Harga Barang\" id=\"harga\" />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"stokbarang\" class=\"col-sm-2 col-form-label-sm\">\n            Stok Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Stok Barang\" id=\"stok\" />\n          </CCol>\n        </CRow>\n        <hr />\n        <div class=\"flexbt\">\n          <CButton class=\"marginl\" color=\"dark\" type=\"submit\"\n            >Tambahkan\n          </CButton>\n        </div>\n      </CForm>\n    </CCardBody>\n  </CCard>\n  <CCard class=\"mb-4 heightBarang\">\n    <CCardHeader>\n      <strong>Tabel Produk</strong>\n      <CFormInput\n        placeholder=\"Pencarian Barang, Masukan ID atau Nama Barang\"\n        size=\"sm\"\n        id=\"filter\"\n        v-model=\"filter\"\n      />\n      <hr />\n      <CTable color=\"primary\" class=\"sizeL\">\n        <CTableHead>\n          <CTableRow>\n            <CTableHeaderCell>ID</CTableHeaderCell>\n            <CTableHeaderCell>Nama Barang</CTableHeaderCell>\n            <CTableHeaderCell class=\"padL\">Harga</CTableHeaderCell>\n            <CTableHeaderCell class=\"padL\">Stok</CTableHeaderCell>\n            <CTableHeaderCell class=\"padC\">Edit/Delete</CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n      </CTable>\n    </CCardHeader>\n    <CCardBody class=\"heightTableb\">\n      <CTable color=\"dark\" borderless>\n        <CTableBody>\n          <CTableRow v-for=\"item in filterBarang\" :key=\"item.id\">\n            <CTableHeaderCell scope=\"row\">{{ item.id }}</CTableHeaderCell>\n            <CTableDataCell>{{ item.namaBarang }}</CTableDataCell>\n            <CTableDataCell>{{ item.harga }}</CTableDataCell>\n            <CTableDataCell>{{ item.stok }}</CTableDataCell>\n            <CTableDataCell class=\"padL\">\n              <CButton color=\"success\" @click=\"editBarang(item.id)\"\n                >Edit</CButton\n              >\n              <CButton\n                class=\"marginBt\"\n                color=\"danger\"\n                @click=\"deleteBarang(item.id)\"\n                >Delete\n              </CButton>\n            </CTableDataCell>\n          </CTableRow>\n        </CTableBody>\n      </CTable>\n    </CCardBody>\n  </CCard>\n</template>\n\n<!-- <script>\nexport default {\n  name: 'Manajemen',\n}\n</script> -->\n","import script from \"./Manajemen.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Manajemen.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["db","getFirestore","fApp","barang","useCollection","collection","name","data","filter","filterb","methods","async","id","deleteDoc","doc","alert","error","message","dataBarang","getDoc","dbarang","document","getElementById","value","namaBarang","harga","stok","window","scrollTo","top","behavior","computed","filterBarang","this","item","toString","toLowerCase","nama","searchTerm","includes","database","addBarang","idbrg","target","elements","idb","setDoc","__exports__"],"sourceRoot":""}