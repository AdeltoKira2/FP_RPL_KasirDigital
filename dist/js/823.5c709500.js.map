{"version":3,"file":"js/823.5c709500.js","mappings":"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","sources":["webpack://Kasir_DigitalOnline/./src/views/Transaksi.vue","webpack://Kasir_DigitalOnline/./src/views/Transaksi.vue?2702"],"sourcesContent":["<template>\n  <CCard class=\"mb-4\">\n    <CCardHeader>\n      <strong>Transaksi</strong>\n    </CCardHeader>\n    <CCardBody>\n      <span>ID Transaksi (Tekan Sebelum Memulai Transaksi Baru)</span>\n      <div class=\"flexbt1\">\n        <span id=\"idT\">null</span>\n        <CButton class=\"marginpx\" size=\"sm\" color=\"primary\" @click=\"addT\"\n          >Transaksi Baru</CButton\n        >\n      </div>\n      <hr />\n      <CTable color=\"dark\" borderless id=\"printThis\">\n        <CTableHead>\n          <CTableRow>\n            <CTableHeaderCell scope=\"col\">Nama Barang</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">Jumlah</CTableHeaderCell>\n            <CTableHeaderCell scope=\"col\">Harga</CTableHeaderCell>\n          </CTableRow>\n        </CTableHead>\n        <CTableBody v-for=\"tr in { dataT }\" :key=\"tr.id\">\n          <CTableRow v-for=\"(item, key) in tr.namaBarang\" :key=\"key\">\n            <CTableDataCell>{{ item }}</CTableDataCell>\n            <CTableDataCell>{{ tr.qty[key] }}</CTableDataCell>\n            <CTableDataCell>{{ tr.hargaBarang[key] }}</CTableDataCell>\n          </CTableRow>\n        </CTableBody>\n      </CTable>\n      <CForm>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"idbarang\" class=\"col-sm-2 col-form-label-sm\">\n            ID Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput\n              placeholder=\"ID Barang\"\n              id=\"idbarang\"\n              v-model=\"idb\"\n              @change=\"getBarang($event)\"\n            />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"nmbarang\" class=\"col-sm-2 col-form-label-sm\">\n            Nama Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Nama Barang\" id=\"nmbarang1\" />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"jml\" class=\"col-sm-2 col-form-label-sm\">\n            Jumlah\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Jumlah\" id=\"jml\" />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"hgbarang\" class=\"col-sm-2 col-form-label-sm\">\n            Harga Barang\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Harga Barang\" id=\"hgbarang1\" />\n          </CCol>\n        </CRow>\n        <hr />\n        <div class=\"flexbt\">\n          <CButton class=\"marginl\" color=\"dark\" @click=\"addItem\"\n            >Tambahkan</CButton\n          >\n        </div>\n      </CForm>\n    </CCardBody>\n  </CCard>\n\n  <CCard class=\"mb-4\">\n    <CCardHeader>\n      <strong>Total Harga</strong>\n    </CCardHeader>\n    <CCardBody>\n      <CForm>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"total\" class=\"col-sm-2 col-form-label-sm\">\n            Total Harga\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Total Harga\" id=\"total\" disabled />\n          </CCol>\n        </CRow>\n        <CRow class=\"mb-3\">\n          <CFormLabel for=\"bayar\" class=\"col-sm-2 col-form-label-sm\">\n            Uang yang Dibayarkan\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Uang yang Dibayarkan\" id=\"bayar\" />\n          </CCol>\n        </CRow>\n        <CRow>\n          <CFormLabel for=\"kembalian\" class=\"col-sm-2 col-form-label-sm\">\n            Kembalian\n          </CFormLabel>\n          <CCol :sm=\"10\">\n            <CFormInput placeholder=\"Kembalian\" id=\"kembalian\" disabled />\n          </CCol>\n        </CRow>\n        <br />\n        <hr />\n        <div class=\"flexbt\">\n          <CButton class=\"marginl\" color=\"dark\" @click=\"selesai\"\n            >Selesaikan</CButton\n          >\n        </div>\n      </CForm>\n    </CCardBody>\n  </CCard>\n</template>\n\n<script>\nimport {\n  getFirestore,\n  getDoc,\n  doc,\n  addDoc,\n  collection,\n  serverTimestamp,\n  updateDoc,\n  arrayUnion,\n  onSnapshot,\n  writeBatch,\n} from 'firebase/firestore'\nimport fApp from '../firebase'\n\nconst db = getFirestore(fApp)\nlet wb = writeBatch(db)\nexport default {\n  name: 'Transaksi',\n  data() {\n    return {\n      dataT: '',\n      dataB: '',\n      idT: '6HyxZ3nm9i0e9UpcR89F',\n      totalHarga: 0,\n      uangBayar: 0,\n      uangKembali: 0,\n      latestStok: 0,\n    }\n  },\n  methods: {\n    async getBarang(event) {\n      try {\n        const dataB = await getDoc(doc(db, 'barang', event.target.value))\n        const barangData = dataB.data()\n        document.getElementById('nmbarang1').value = barangData.namaBarang\n        document.getElementById('hgbarang1').value = barangData.harga\n        this.latestStok = barangData.stok\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    async addT() {\n      try {\n        const dataB = await addDoc(collection(db, 'transaksi'), {\n          namaBarang: [],\n          hargaBarang: [],\n          qty: [],\n          totalHarga: 0,\n          uangBayar: 0,\n          uangKembali: 0,\n          timesamp: serverTimestamp(),\n        })\n        this.idT = dataB.id\n        onSnapshot(doc(db, 'transaksi', this.idT), (doc) => {\n          this.dataT = doc.data()\n        })\n        document.getElementById('idT').innerHTML = dataB.id\n        document.getElementById('total').value = ''\n        this.totalHarga = 0\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    async addItem() {\n      try {\n        const nmb = document.getElementById('nmbarang1').value\n        const hgb = document.getElementById('hgbarang1').value\n        const jml = document.getElementById('jml').value\n        const idBrg = document.getElementById('idbarang').value\n        const newStok = this.latestStok - jml\n        this.totalHarga = this.totalHarga + hgb * jml\n        await updateDoc(doc(db, 'transaksi', this.idT), {\n          namaBarang: arrayUnion(nmb),\n          hargaBarang: arrayUnion(hgb),\n          qty: arrayUnion(jml),\n          totalHarga: this.totalHarga,\n        })\n        wb.update(doc(db, 'barang', idBrg), { stok: newStok })\n        document.getElementById('idbarang').value = ''\n        document.getElementById('nmbarang1').value = ''\n        document.getElementById('hgbarang1').value = ''\n        document.getElementById('jml').value = ''\n        document.getElementById('total').value = this.totalHarga\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n    async selesai() {\n      try {\n        this.uangBayar = document.getElementById('bayar').value\n        this.uangKembali = this.uangBayar - this.totalHarga\n        await updateDoc(doc(db, 'transaksi', this.idT), {\n          totalHarga: this.totalHarga,\n          uangBayar: this.uangBayar,\n          uangKembali: this.uangKembali,\n        })\n        document.getElementById('kembalian').value = this.uangKembali\n        wb.commit()\n        wb = writeBatch(db)\n        alert('Transaksi Berhasil')\n      } catch (error) {\n        alert(error.message)\n      }\n    },\n  },\n}\n</script>\n","import { render } from \"./Transaksi.vue?vue&type=template&id=23c05f99\"\nimport script from \"./Transaksi.vue?vue&type=script&lang=js\"\nexport * from \"./Transaksi.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"F:\\\\kasdionVue\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","id","_createVNode","_component_CCard","_component_CCardHeader","_hoisted_1","_component_CCardBody","_hoisted_2","_hoisted_3","_hoisted_4","_component_CButton","size","color","onClick","$options","_hoisted_5","_component_CTable","borderless","_component_CTableHead","_component_CTableRow","_component_CTableHeaderCell","scope","_createElementBlock","_Fragment","dataT","$data","tr","_createBlock","_component_CTableBody","key","namaBarang","item","_component_CTableDataCell","qty","hargaBarang","_component_CForm","_component_CRow","_component_CFormLabel","for","_component_CCol","sm","_component_CFormInput","placeholder","_ctx","onChange","$event","_hoisted_6","_hoisted_7","_hoisted_8","disabled","_hoisted_9","_hoisted_10","_hoisted_11","db","getFirestore","fApp","wb","writeBatch","name","data","dataB","idT","totalHarga","uangBayar","uangKembali","latestStok","methods","async","event","getDoc","doc","target","value","barangData","document","getElementById","harga","this","stok","error","alert","message","addDoc","collection","timesamp","serverTimestamp","onSnapshot","innerHTML","nmb","hgb","jml","idBrg","newStok","updateDoc","arrayUnion","update","commit","__exports__","render"],"sourceRoot":""}